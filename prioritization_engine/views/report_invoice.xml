<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="report_invoice_document_ext" inherit_id="sale.report_invoice_document_inherit_sale">
            <xpath expr="//t/div[1]/div[2]/div[1]" position="replace">
                 <div class="col-xs-2" t-if="o.purchase_order">
                   <strong t-if="o.type == 'out_invoice' and (o.state == 'open' or o.state == 'paid')">Purchase Order #</strong>
                    <strong t-if="o.type == 'in_invoice'">Sale Order #</strong>
                     <strong t-if="o.type == 'out_invoice' and o.state == 'draft'">Purchase Order #</strong>
                     <strong t-if="o.type == 'out_invoice' and o.state == 'cancel'">Purchase Order #</strong>
                     <strong t-if="o.type == 'out_refund'">Purchase Order #</strong>
                     <strong t-if="o.type == 'in_refund'">Sale Order #</strong>
                    <p t-field="o.purchase_order"/>
                </div>
            </xpath>
             <xpath expr="//t/div[1]/div[2]/div[2]" position="replace">
                 <div class="col-xs-2" t-if="o.date_invoice">
                    <strong t-if="o.type == 'out_invoice' and (o.state == 'open' or o.state == 'paid')">Invoice Date</strong>
                    <strong t-if="o.type == 'in_invoice'">Bill Date</strong>
                    <strong t-if="o.type == 'out_invoice' and o.state == 'draft'">Invoice Date</strong>
                    <strong t-if="o.type == 'out_invoice' and o.state == 'cancel'">Invoice Date</strong>
                    <strong t-if="o.type == 'out_refund'">Credit Note Date</strong>
                    <strong t-if="o.type == 'in_refund'">Vendor Credit Note Date</strong>
                    <p t-field="o.date_invoice"/>
                 </div>
            </xpath>
            <xpath expr="//t/div[1]/div[2]/div[4]" position="replace">
                 <div class="col-xs-2" t-if="o.origin">
                    <strong t-if="o.type == 'out_invoice' and (o.state == 'open' or o.state == 'paid')">Sale Order #</strong>
                    <strong t-if="o.type == 'in_invoice'">Purchase Order #</strong>
                     <strong t-if="o.type == 'out_invoice' and o.state == 'draft'">Sale Order #</strong>
                     <strong t-if="o.type == 'out_invoice' and o.state == 'cancel'">Sale Order #</strong>
                     <strong t-if="o.type == 'out_refund'">Sale Order #</strong>
                     <strong t-if="o.type == 'in_refund'">Purchase Order #</strong>
                    <p t-field="o.origin"/>
                 </div>
            </xpath>
            <xpath expr="//t/div[1]/div[2]/div[5]" position="replace">
                 <div class="col-xs-2" t-if="o.tracking_reference">
                    <strong>Tracking Reference#:</strong>
                    <p t-field="o.tracking_reference"/>
                 </div>
            </xpath>
             <xpath expr="//div[@class='row']" position="attributes">
                  <attribute name="style">margin:0px;margin-top: 30%;padding-top:40px;margin-bottom: 5%</attribute>
            </xpath>
             <xpath expr="//div[@name='invoice_address']" position="attributes">
            <attribute name="groups">!sale.group_delivery_invoice_address</attribute>
        </xpath>
        <xpath expr="//div[@class='col-xs-6']" position="replace">
            <div class="col-xs-6" style="border: 1px solid #ddd;"  groups="sale.group_delivery_invoice_address">
                <strong >Bill To:</strong>
                <div t-field="o.partner_id"
                    t-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": True}'/>
                <div t-if="o.partner_id.vat" class="mt16"><t t-esc="o.company_id.country_id.vat_label or 'TIN'"/>: <span t-field="o.partner_id.vat"/></div>
            </div>
        </xpath>
         <xpath expr="//div[@class='col-xs-5 col-xs-offset-1']" position="replace">
            <div class="col-xs-5 col-xs-offset-1" style="border: 1px solid #ddd;margin-left:5px;width:47%" groups="sale.group_delivery_invoice_address">
                <div t-if="o.partner_shipping_id and (o.partner_shipping_id != o.partner_id)">
                    <strong>Ship To:</strong>
                    <div t-field="o.partner_shipping_id"
                        t-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": True}'/>
                </div>
            </div>
        </xpath>
        </template>

    </data>
</odoo>

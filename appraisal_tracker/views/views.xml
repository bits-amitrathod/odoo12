<odoo>
    <data>

        <record model="ir.ui.view" id="appraisal_tracker.list">
            <field name="name">purchase.order list3</field>
            <field name="model">purchase.order</field>
            <field name="priority">21</field>
            <field name="arch" type="xml">

                <tree create="false" delete="false">
                    <field name="appraisal_no" attrs="{'invisible':[('state', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}"/>
                    <field name="status" invisible="1"/>
                    <field name="state" invisible="1"/>
                    <field name="acq_user_id" string='Acq Manager'
                           attrs="{'invisible':[('status', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}"/>
                    <field name="partner_id" attrs="{'invisible':[('status', 'not in', ('done','purchase','cancel' ,'ven_draft','ven_sent'))]}"
                           string="Facility"/>
                    <field name="vendor_cust_id_app" attrs="{'invisible':[('status', 'not in', ('done','purchase','cancel' ,'ven_draft','ven_sent'))]}"
                          />

                    <field name="cust_type_appraisal" attrs="{'invisible':[('status', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}"/>
                    <field name="name" attrs="{'invisible':[('status', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}"
                           string="PO#"/>
                    <field name="payment_term_id" attrs="{'invisible':[('status', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}"
                          />
                       <field name="amount_total" attrs="{'invisible':[('state', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}"
                           widget="monetary" string="Total Offer"/>
                    <field name="rt_price_total_amt" attrs="{'invisible':[('state', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}"
                           widget="monetary" string="Total Retail"/>
                    <field name="billed_offer_total" attrs="{'invisible':[('state', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}" string="Billed Total Offer" />
                    <field name="final_billed_offer_total" attrs="{'invisible':[('state', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}" string="Final Billed Total Offer" />
                    <field name="billed_retail_total" attrs="{'invisible':[('state', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}"  string="Billed Total Retail"/>
                    <field name="final_billed_retail_total" attrs="{'invisible':[('state', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}"  string="Final Billed Total Retail"/>

                    <field name="create_date" attrs="{'invisible':[('status', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}"/>
                    <field name="shipping_label_issued"
                           attrs="{'invisible':[('status', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}"/>
                    <field name="shipping_date" attrs="{'invisible':[('status', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}"/>
                    <field name="delivered_date" attrs="{'invisible':[('status', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}"/>
                     <field name="arrival_date_grp" attrs="{'invisible':[('status', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}"/>
                    <field name="tier1_retail" attrs="{'invisible':[('status', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}"   widget="monetary" />
                    <field name="tier2_retail" attrs="{'invisible':[('status', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}"   widget="monetary" />
                    <field name="less_than_40_retail" attrs="{'invisible':[('status', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}"   widget="monetary" />
                    <field name="new_customer" attrs="{'invisible':[('status', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}"/>

                    <field name="status_ven_app" attrs="{'invisible':[('status', 'not in', ('done','purchase','cancel','ven_draft','ven_sent'))]}"/>

                    <field name="currency_id" invisible="1"/>
                </tree>

            </field>
        </record>

       <record id="appraisal_tracker.action_window" model="ir.actions.act_window">

            <field name="name">Appraisal Tracker</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">purchase.order</field>
            <field name="domain">[('state','in',('purchase','cancel','ven_draft','ven_sent','done')),('status','in',('purchase','cancel','ven_draft','ven_sent','done'))]</field>
            <field name="context">{'vendor_offer_data': True}</field>
            <field name="view_mode">form,tree</field>
            <field name="view_ids" eval="[(5, 0, 0),
        (0, 0, {'view_mode': 'tree', 'view_id': ref('appraisal_tracker.list')},),

        ]"/>
           <!-- TODO:UPG_ODOO16_NOTE       (0, 0, {'view_mode': 'form', 'view_id': ref('appraisal_tracker_offer_form')})-->
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to create a request for quotation.
                </p>
                <p>
                    The quotation contains the history of the discussion/negotiation
                    you had with your vendor. Once confirmed, a request for
                    quotation is converted into a purchase order.
                </p>
                <p>
                    Most propositions of purchase orders are created automatically
                    by Odoo based on inventory needs.
                </p>
            </field>
        </record>

        <report
                id="action_report_appraisal_tracker"

                string="Appraisal Tracker"
                model="purchase.order"
                report_type="qweb-html"
                file="appraisal_tracker.appraisal_tracker_report"
                name="appraisal_tracker.appraisal_tracker_report"
        />


        <record id="appraisal_tracker_view_purchase_order_filter" model="ir.ui.view">
            <field name="name">request.quotation.select</field>
            <field name="model">purchase.order</field>
            <field name="inherit_id" ref="purchase.view_purchase_order_filter"></field>
            <field name="arch" type="xml">
                <!--<xpath expr="//group[@name='order_line']" >-->
                <group expand="0" string="Group By">
                    <filter string="Status" domain="[]" name="status_ven_app" context="{'group_by':'status_ven'}"/>
                    <filter string="Arrival Date" name="arrival_date_grp"  domain="[]" context="{'group_by':'arrival_date_grp','vendor_offer_data': True}"/>
                </group>
                <!--</xpath>-->
            </field>
        </record>

        <record id="click_to_dial_field_partner" model="ir.ui.view">
            <field name="name">res.partner.form.wholesaler</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="priority" eval="22"/>
            <field name="arch" type="xml">
                  <field name="on_hold" position="after">
                      <field name="is_wholesaler" />
                  </field>
            </field>
        </record>

          <record id="appraisal_tracker_popup" model="ir.ui.view">
            <field name="name">purchase.order.popup</field>
            <field name="model">appraisaltracker.export</field>
            <field name="arch" type="xml">
                <form string="Export Appraisal Tracker">
                    <sheet>
                        <div>Click On ' Export To File ' button to export Appraisal Tracker file</div>
                        <footer>
                            <button name="download_excel_appraisal_tracker" string="Export To File" type="object"
                                    class="btn-primary"/>
                            <button string="Cancel" class="btn-default" special="cancel"/>
                        </footer>
                    </sheet>
                </form>
            </field>
        </record>


        <record id="appraisal_tracker_act_window" model="ir.actions.act_window">
                <field name="name">Export Appraisal Tracker</field>
                <field name="res_model" >appraisaltracker.export</field>
                <field name="binding_model_id" ref="purchase.model_purchase_order"/>
                <field name="view_mode">form</field>
                <field name="target">new</field>
            </record>

        <menuitem id="menu_procurement_management_appraisal_tracker" name="Appraisal Tracker"
                  parent="purchase.menu_procurement_management" action="appraisal_tracker.action_window" sequence="15"
        />

    </data>
</odoo>

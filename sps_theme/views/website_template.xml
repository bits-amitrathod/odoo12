<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="user_dropdown" inherit_id="portal.user_dropdown">
        <xpath expr="//li/a" position="replace">
            <a href="#" role="button" data-toggle="dropdown" t-attf-class="nav-link dropdown-toggle #{_link_class}">
                <t t-if="_avatar">
                    <t t-if="user_id.image_256" t-set="avatar_source" t-value="image_data_uri(user_id.image_256)"/>
                    <t t-else="" t-set="avatar_source" t-value="'/web/static/src/img/placeholder.png'"/>
                    <img t-att-src="avatar_source" t-attf-class="rounded-circle #{_avatar_class}" width="24" height="24" alt="" loading="eager"/>
                </t>
                <i t-if="_icon" t-attf-class="fa fa-1x fa-fw fa-user-circle-o #{_icon_class}"/>
                <span t-if="_user_name" style="text-decoration:underline" t-attf-class="#{_user_name_class}" t-esc="user_id.name[:48] + '...' if user_id.name and len(user_id.name) &gt; 50 else user_id.name"/>
            </a>
        </xpath>
    </template>
</odoo>